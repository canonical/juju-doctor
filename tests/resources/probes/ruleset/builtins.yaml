name: RuleSet - test builtins
builtins:
  applications:
    - name: alertmanager
    - name: prometheus
      minimum: 1
      maximum: 4
  relations:
    # TODO: What if someone specifies multiple apps. What if we allow the "with" to define an interface that the list of apps must be related over
    - apps: [alertmanager:catalogue, catalogue:catalogue]
    - apps: [traefik:ingress, alertmanager:ingress]
    - apps: [loki:grafana-source, grafana:grafana-source]
  offers:
    - name: loki-logging
      endpoint: logging
      interface: loki_push_api
    - name: grafana-dashboards
      endpoint: grafana-dashboard
      interface: grafana_dashboard
