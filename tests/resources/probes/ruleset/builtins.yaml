name: A RuleSet which uses native Juju Doctor probes
applications:
  - name: alertmanager
  - name: prometheus
    minimum: 1
    maximum: 4
relations:
  - provides: alertmanager:alerting
    requires: loki:alertmanager
  - provides: loki:grafana-source
    requires: grafana:grafana-source
  - provides: loki:metrics-endpoint
    requires: prometheus:metrics-endpoint
  - provides: loki:grafana-dashboard
    requires: grafana:grafana-dashboard
  - provides: traefik:ingress
    requires: alertmanager:ingress
offers:
  - name: loki-logging
    endpoint: logging
    interface: loki_push_api
  - name: grafana-dashboards
    endpoint: grafana-dashboard
    interface: grafana_dashboard

# consumes:
#   - mysql:something
